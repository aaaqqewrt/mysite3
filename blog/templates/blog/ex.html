


<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!--ç™¾åº¦æ”¶å½•æ ‡è¯†-->
    <meta name="baidu-site-verification" content="ocAh7mV3PU" />
    <title>
    æˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬5å¤©) Djangoè¯„è®ºåº“&nbsp;-&nbsp;æ¨ä»•èˆªçš„åšå®¢
</title>
    <!--å…¨å±€æ ·å¼-->
    <link rel="stylesheet" type="text/css" href="/static/css/global/all-2.0.1.css">
    <!--ä½¿ç”¨bootstrapæ¡†æ¶-->
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.min.css">
    <script src="/static/js/jquery-1.11.3.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!--ç™¾åº¦æ”¶å½•è‡ªåŠ¨æäº¤-->
    <script src="//push.zhanzhang.baidu.com/push.js"></script>

    <!--å…¶ä»–-->
    <link rel="shortcut icon" href="/static/media/favicon.ico">
    <script src="/static/js/jquery.cookie.js"></script>
    <!--IE html5æ”¯æŒ-->
    <!--[if lt IE 9]>
        <script src="/static/js/html5shiv.js"></script>
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="/static/css/global/blog.css">
    
    <meta name="keywords" content="django-comments,Djangoè¯„è®ºåº“,ç½‘ç«™æ­å»º,Django">
    <link rel="stylesheet" href="/static/css/prettify/github_ex.css" type="text/css">
    <script type="text/javascript" src="/static/js/prettify.js"></script>

    <link rel="stylesheet" type="text/css" href="/ueditor/UE/third-party/SyntaxHighlighter/shCoreDefault.css">
    <script type="text/javascript" src="/ueditor/UE/third-party/SyntaxHighlighter/shCore.js"></script>
    <link rel="stylesheet" href="/static/css/global/comment-2.0.2.css" type="text/css">

    <!--emojione v2.1.1 ä½¿ç”¨bootstrapçš„cdn-->
    <link rel="stylesheet" type="text/css" href="http://cdn.bootcss.com/emojione/2.1.1/assets/sprites/emojione.sprites.css">
    <script type="text/javascript" src="http://cdn.bootcss.com/emojione/2.1.1/lib/js/emojione.min.js"></script>

    <!--emojionearea-->
    <link rel="stylesheet" type="text/css" href="/static/css/emojionearea-2.1.3.min.css">
    <script type="text/javascript" src="/static/js/emojionearea-2.1.3.min.js"></script>



    <!-- ç»Ÿè®¡ -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?a8c86a506ed6fac0b33b4980b9fd0483";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>

<body>
    
        
            
            
                <div class="navbar navbar-default navbar-fixed-top" role="navigation">   
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" 
                             data-target="#example-navbar-collapse">
                            <span class="sr-only">åˆ‡æ¢å¯¼èˆª</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                         </button>
                        <a class="navbar-brand" href="/">æ¨ä»•èˆªçš„åšå®¢</a>
                    </div>
                    
                    <div class="collapse navbar-collapse" id="example-navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="">
                                <a href="/">
                                    <span class="glyphicon glyphicon-home"></span> é¦–é¡µ
                                </a>
                            </li>
                            <li class="active">
                                <a href="/blog/">
                                    <span class="glyphicon glyphicon-pencil"></span> åšå®¢
                                </a>
                            </li>
                            <li class="">
                                <a href="/subject/">
                                    <span class="glyphicon glyphicon-file"></span> ä¸“é¢˜
                                </a>
                            </li>
                            <li class="">
                                <a href="/tutorial/">
                                    <span class="glyphicon glyphicon-book"></span> æ•™ç¨‹
                                </a>
                            </li>
                        </ul>
                        
                        <form action="/blog/" class="navbar-form navbar-right">
                            <input name="wd" type="text" placeholder="æœç´¢åšæ–‡" class="form-control">
                            <button type="submit">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </form>

                        <ul id="user_part" class="nav navbar-nav navbar-right">
                            
                                <li><a href="/user/login_page">ç™»å½•/æ³¨å†Œ</a></li>
                            
                        </ul>
                    </div>
                </div>
            

            
                
            
        

        <div class="container">
            
        <div class="col-md-9 col-xs-12">
            
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="blog_header">
                <h3>æˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬5å¤©) Djangoè¯„è®ºåº“</h3>

                <ul>
                    <li>å‘å¸ƒæ—¶é—´ï¼š2015å¹´12æœˆ8æ—¥ 10:29</li>
                    <li>ä½œè€…ï¼šæ¨ä»•èˆª</li>
                    
                </ul>
                <span class="clearfix"></span>
                <ul>
                    <li>åˆ†ç±»æ ‡ç­¾ï¼š
                        
                            <a href="/blog/?tag=1" target=_blank>æˆ‘çš„ç½‘ç«™æ­å»º</a>          
                        
                    </li>
                    <li>
                        
                        é˜…è¯»(17321)
                    </li>
                    <li>
                        
                        
                        è¯„è®º(5)
                    </li>
                </ul>
            </div>
        </div>

        <div class="panel-body">
            <div class="blog_content">
                
                    <div class="alert alert-success">* è¯¥æ–‡æ˜¯åŸºäºPython2.7å¼€å‘çš„ï¼Œæœ€æ–°Python3.xå’ŒDjango2.xè§†é¢‘æ•™ç¨‹å¯ä»¥å‰å¾€ &gt;&gt; <a href="http://space.bilibili.com/252028233/#/channel/detail?cid=28138" class="" target="_blank">Django2.0è§†é¢‘æ•™ç¨‹</a></div>
                
                <p>è¯„è®ºçš„åŠŸèƒ½æ‰“ç®—ç”¨Djangoçš„è¯„è®ºåº“ï¼Œæ·»åŠ å¼•ç”¨å´æŠ¥é”™ã€‚</p><p>æŸ¥äº†ä¸€ä¸‹ï¼ŒDjangoåŸæœ¬ä¼šè‡ªå¸¦ä¸€ä¸ªè¯„è®ºåº“ç»„ä»¶ï¼Œè€Œä»1.6ç‰ˆæœ¬ä»¥åå°±æ²¡æœ‰è‡ªå¸¦äº†ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚</p><p>è¿è¡Œ pip install django-contrib-comments<br/></p><p>å¦‚ä¸‹ä¿®æ”¹setting.pyæ–‡ä»¶</p><pre class="prettyprint linenums">INSTALLED_APP=(
&nbsp;&nbsp;&nbsp;&nbsp;#...,
&nbsp;&nbsp;&nbsp;&nbsp;&#39;django_comments&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&#39;django.contrib.sites&#39;,
)
SITE_ID&nbsp;=&nbsp;1</pre><p><br/></p><p>åœ¨INSTALLED_APPæ·»åŠ django_commentså’Œdjango.contrib.sitesä¸¤ä¸ªåº”ç”¨ã€‚</p><p>åœ¨å¤–éƒ¨æ·»åŠ  SITE_ID=1ã€‚</p><p>djangoçš„è¯„è®ºåº“æ˜¯ä¸€ä¸ªç«™ç‚¹ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ sitesçš„åº”ç”¨å¹¶è®¾ç½®å½“å‰djangoå·¥ç¨‹çš„ç«™ç‚¹id=1</p><p><br/></p><p>è®°å¾—åœ¨urls.pyæ·»åŠ django_commentsçš„è·¯ç”±è®¾ç½®ï¼Œurlä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class="prettyprint linenums">url(r&#39;^comments/&#39;,&nbsp;include(&#39;django_comments.urls&#39;)),</pre><p><br/></p><p>æ‰§è¡Œ python ./manage.py syncdb åŒæ­¥ä¸€ä¸‹æ•°æ®åº“å³å¯ã€‚</p><p>æ¥ç€ï¼Œä¿®æ”¹å‰ç«¯é¡µé¢æ˜¾ç¤ºè¯„è®ºåˆ—è¡¨å’Œè¯„è®ºæäº¤è¡¨å•ã€‚è¿™äº›éœ€è¦ä½¿ç”¨django_commentsçš„æ¨¡ç‰ˆæ ‡ç­¾ï¼Œåœ¨ä½¿ç”¨æ ‡ç­¾ä¹‹å‰å¯¼å…¥åŠ è½½ï¼š</p><pre class="prettyprint linenums">{#&nbsp;å¯¼å…¥è¯„è®ºåº“æ¨¡å—çš„æ¨¡ç‰ˆæ ‡ç­¾&nbsp;#}
{%&nbsp;load&nbsp;comments&nbsp;%}</pre><p><br/></p><p>è¯„è®ºåˆ—è¡¨å¯ä»¥é€šè¿‡django_commentsçš„get_comment_listæ¨¡ç‰ˆæ ‡ç­¾è·å–ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p><pre class="prettyprint linenums">&lt;div&nbsp;class=&quot;panel&nbsp;panel-default&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;panel-heading&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h4&gt;è¯„è®ºåˆ—è¡¨&lt;/h4&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;panel-body&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;get_comment_list&nbsp;for&nbsp;blog&nbsp;as&nbsp;comments&nbsp;%}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;for&nbsp;comment&nbsp;in&nbsp;comments&nbsp;%}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;blog_comment&quot;&nbsp;name=&quot;F{{comment.id}}&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;class=&quot;comment_title&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#{{&nbsp;comment.submit_date|date:&quot;Y-m-d&nbsp;H:i&quot;}}&nbsp;@&nbsp;{{&nbsp;comment.user_name&nbsp;}}ï¼š
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;class=&quot;comment_content&quot;&gt;{{&nbsp;comment.comment&nbsp;}}&lt;/p&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;empty&nbsp;%}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;æš‚æ— è¯„è®º&lt;/span&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;endfor&nbsp;%}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&lt;/div&gt;</pre><p><br/></p><p>get_comment_listæ¨¡ç‰ˆæ ‡ç­¾çš„ç”¨æ³•æ˜¯forä¸€ä¸ªæ¨¡ç‰ˆå¯¹è±¡ï¼Œasæ˜¯é‡å‘½åã€‚å˜é‡å¾—åˆ°çš„è¯„è®ºåŠ è½½å³å¯ã€‚<br/></p><p>è€Œè¯„è®ºæäº¤è¡¨å•ï¼Œæœ€ä¸»è¦çš„æ˜¯æäº¤çš„urlå’Œè¡¨å•å­—æ®µã€‚åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡django_commentsçš„æ¨¡ç‰ˆæ ‡ç­¾å¤„ç†ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p><pre class="prettyprint linenums">&lt;h4&gt;æ–°çš„è¯„è®º&lt;/h4&gt;
{%&nbsp;get_comment_form&nbsp;for&nbsp;blog&nbsp;as&nbsp;blog_form&nbsp;%}

&lt;form&nbsp;id=&quot;comment_form&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=&quot;form-horizontal&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action=&quot;{%&nbsp;comment_form_target&nbsp;%}&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method=&quot;post&quot;
&gt;
&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;csrf_token&nbsp;%}

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;å¿…é¡»çš„å­—æ®µ&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.object_pk&nbsp;}}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.content_type&nbsp;}}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.timestamp&nbsp;}}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.site&nbsp;}}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.submit_date&nbsp;}}
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;blog_form.security_hash&nbsp;}}

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;ç”¨æˆ·åå­—æ®µï¼Œè¿™ä¸ªåé¢ä¼šä¿®æ”¹ä¸ºç™»å½•ç”¨æˆ·è¯„è®ºï¼Œæ— éœ€å¡«è¿™ä¸ª&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;control-group&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;control-label&quot;&nbsp;for=&quot;id_name&quot;&gt;åç§°ï¼š&nbsp;&lt;/label&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;controls&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;id_name&quot;&nbsp;class=&quot;input-xlarge&quot;&nbsp;name=&quot;name&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;{{&nbsp;user.username&nbsp;}}&quot;&nbsp;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;é‚®ç®±åœ°å€å­—æ®µ&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;control-group&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;control-label&quot;&nbsp;for=&quot;id_email&quot;&gt;é‚®ç®±ï¼š&nbsp;&lt;/label&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;controls&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;email&quot;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;id_email&quot;&nbsp;class=&quot;input-xlarge&quot;&nbsp;name=&quot;email&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;{{&nbsp;user.email&nbsp;}}&quot;&nbsp;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;è¯„è®ºå†…å®¹&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;name=&quot;newcomment&quot;&nbsp;id=&quot;newcomment&quot;&gt;&lt;/a&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;control-group&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;class=&quot;control-label&quot;&nbsp;for=&quot;id_comment&quot;&gt;è¯„è®ºï¼š&nbsp;&lt;/label&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;controls&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;textarea&nbsp;rows=&quot;6&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id=&quot;id_comment&quot;&nbsp;class=&quot;input-xlarge&nbsp;comment&quot;&nbsp;name=&quot;comment&quot;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placeholder=&quot;è¯·è¾“å…¥è¯„è®ºå†…å®¹&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/textarea&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;é˜²åƒåœ¾è¯„è®º&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;display:none;&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=&quot;id_honeypot&quot;&gt;å¦‚æœä½ åœ¨è¯¥å­—æ®µä¸­è¾“å…¥ä»»ä½•å†…å®¹ï¼Œä½ çš„è¯„è®ºå°±ä¼šè¢«è§†ä¸ºåƒåœ¾è¯„è®ºã€‚&lt;/label&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;honeypot&quot;&nbsp;id=&quot;id_honeypot&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;

&nbsp;&nbsp;&nbsp;&nbsp;{#&nbsp;è¡¨å•æŒ‰é’®&nbsp;#}
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;controls&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;form-actions&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;class=&quot;btn&nbsp;btn-info&quot;&nbsp;id=&quot;submit_btn&quot;&nbsp;type=&quot;submit&quot;&nbsp;name=&quot;submit&quot;&nbsp;value=&quot;æäº¤&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;next&quot;&nbsp;value=&quot;{%url&nbsp;&#39;detailblog&#39;&nbsp;blog.id%}&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
&nbsp;&lt;/form&gt;</pre><p><br/></p><p>å…¶ä¸­æˆ‘ä½¿ç”¨äº†ä¸€äº›Bootstrapçš„æ ·å¼ï¼Œå¯å¿½ç•¥ã€‚è™½ç„¶ç°åœ¨å¯ä»¥æäº¤è¯„è®ºäº†ï¼Œä½†æäº¤è¯„è®ºä¹‹åä¼šè·³è½¬åˆ°ä¸€ä¸ªå¾ˆç®€é™‹çš„é¡µé¢ã€‚</p><p>æ¥ä¸‹æ¥ç”¨ajaxå†™è¯„è®ºæäº¤äº‹ä»¶é¿å…é¿å…è·³è½¬åˆ°ç‹¬ç«‹çš„è¯„è®ºé¡µé¢ï¼Œä¿®æ­£æ—¶é—´æˆ³ç­‰Bugã€‚</p>
                <!-- JiaThis Button -->
                <div class="share_btns">
                    <p>(åŸåˆ›åšæ–‡ï¼Œè½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://yshblog.com/">æ¨ä»•èˆªçš„åšå®¢</a>ï¼æœ¬æ–‡é“¾æ¥ï¼š<a href="http://yshblog.com/blog/5">http://yshblog.com/blog/5</a>)</p>
                    <p>è‹¥å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨æ‰«ä¸€æ‰«å³ä¾§çš„<a href="/blog/sponsor" target=_blank>äºŒç»´ç </a>æ‰“èµæ”¯æŒæˆ‘ ^_^</p>
                    <div class="jiathis_style" style="margin-left: 2em;">
                        <span class="jiathis_txt">åˆ†äº«åˆ°ï¼š</span>
                        <a class="jiathis_button_tsina"></a>
                        <a class="jiathis_button_tqq"></a>
                        <a class="jiathis_button_weixin"></a>
                        <a class="jiathis_button_cqq"></a>
                        <a class="jiathis_button_qzone"></a>
                        <a class="jiathis_button_douban"></a>
                        <a class="jiathis_button_fb"></a>
                        <span class="clearfix"></span>
                    </div>
                </div>

                <p>
                    
                        <a href="/blog/6">ä¸Šä¸€ç¯‡ï¼šæˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬6å¤©) è¯„è®ºAjaxæäº¤</a>
                    
                </p>
                <p>
                    
                        <a href="/blog/4">ä¸‹ä¸€ç¯‡ï¼šæˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬4å¤©) å¿™ï¼Ÿæ‡’ï¼Ÿç»†èŠ‚ä¼˜åŒ–</a>
                    
                </p>

                
                    <p>ç›¸å…³ä¸“é¢˜ï¼š
                        
                            <a href="/subject/3" target="_blank">
                                Djangoè¯„è®ºåº“å¼€å‘
                            </a>&nbsp;&nbsp;
                        
                    </p>
                
            </div>
<!--
<div style=" margin-top: 1.2em; border-top: 1px solid #ddd;">
    <a href="https://datayi.cn/w/GRwdmDlP" target="_blank">    
        <img src="/static/img/kkb.png" style="margin-left: 0; max-width: 100%; width: 100%;">
    </a>
</div>
-->
        </div>
    </div>

    <!--è¯„è®ºåˆ—è¡¨-->
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>è¯„è®ºåˆ—è¡¨</h4>
            <button id="jump_to_comment" class="btn btn-info comment_title_btn">æˆ‘è¦è¯„è®º</button>
        </div>

        <div id="comments_list" class="panel-body">
            
            
                <div class="comment_obj" name="F313">
                    <div class="comment_user">
                        <img class="user_avatar" src="/static/media/avatar/default_64.png" alt="è£å…š">
                        <p class="uesr_name">è£å…š</p>
                    </div>

                    <div class="comment_body">
                        <div class="comment_content">
                            <p id="comment_313">åšä¸»è¿™ä¸ªâ£{% get_comment_list for blog as comments %}ä¸­çš„ blogæ˜¯ä½ çš„æ¨¡å‹å¯¹è±¡å—ï¼ŒåŒæ­¥æ•°æ®åº“åä»€ä¹ˆéƒ½ä¸è¦åšå—ï¼Œç„¶åç›´æ¥æŒ‰ç…§ä½ ä¸‹é¢çš„æ¡ˆä¾‹æ¥å—ï¼ŸğŸ˜­</p>
                        </div>
                        
                        <p class="comment_bottom">                        
                            <span>2018-11-27 21:55</span>
                            <span class='reply_button'>
                                <a href='javascript:void(0);' onclick='reply_click(this);' root='313' role='313' base='è£å…š'>å›å¤</a>
                            </span>
                        </p>
                    
                        
                        <ul class="comment_reply">
                            
                            <li name='F315'>
                                <img class="reply_avatar" src="/static/media/avatar/default_64.png">

                                <div class="reply_body">
                                    <p>
                                            <span class="reply_name">è£å…š</span>
                                    </p>
                                    
                                    <div class="reply_content">
                                        <p id="comment_315">æ˜ç™½äº†ï¼Œblogæ˜¯æˆ‘ä»¬çš„modelså¯¹è±¡</p>
                                    </div>                                    

                                    <p class="comment_bottom">                        
                                        <span>2018-11-28 11:23</span>
                                        <span class='reply_button'>
                                            <a href='javascript:void(0);' onclick='reply_click(this);' root='313' role='315' base='è£å…š'>å›å¤</a>
                                        </span>
                                    </p>
                                </div>                                
                            </li>
                            
                            <li name='F316'>
                                <img class="reply_avatar" src="/static/media/avatar/default_64.png">

                                <div class="reply_body">
                                    <p>
                                        
                                        
                                            <span class="reply_name">è£å…š</span>
                                            <span> å›å¤ </span>
                                            <span class="reply_name">è£å…š</span>
                                        
                                    </p>
                                    
                                    <div class="reply_content">
                                        <p id="comment_316">å†æ¬¡è¯„è®ºè‡ªå·±çœ‹ä¸‹æ•ˆæœ</p>
                                    </div>                                    

                                    <p class="comment_bottom">                        
                                        <span>2018-11-28 15:40</span>
                                        <span class='reply_button'>
                                            <a href='javascript:void(0);' onclick='reply_click(this);' root='313' role='316' base='è£å…š'>å›å¤</a>
                                        </span>
                                    </p>
                                </div>                                
                            </li>
                            
                        </ul>
                        
                    </div>

                    <span class="clearfix"></span>
                </div>
            
                <div class="comment_obj" name="F314">
                    <div class="comment_user">
                        <img class="user_avatar" src="/static/media/avatar/default_64.png" alt="è£å…š">
                        <p class="uesr_name">è£å…š</p>
                    </div>

                    <div class="comment_body">
                        <div class="comment_content">
                            <p id="comment_314">è¿˜æœ‰ï¼Œä½ çš„ç½‘ç«™å‘é€çš„QQé‚®ä»¶å…¨è¢«å½“ä½œåƒåœ¾é‚®ä»¶è¢«æ‹¦æˆªäº†</p>
                        </div>
                        
                        <p class="comment_bottom">                        
                            <span>2018-11-27 22:00</span>
                            <span class='reply_button'>
                                <a href='javascript:void(0);' onclick='reply_click(this);' root='314' role='314' base='è£å…š'>å›å¤</a>
                            </span>
                        </p>
                    
                        
                        <ul class="comment_reply">
                            
                            <li name='F320'>
                                <img class="reply_avatar" src="/static/media/avatar/default_64.png">

                                <div class="reply_body">
                                    <p>
                                        
                                        
                                            <span class="reply_name">è£å…š</span>
                                        
                                    </p>
                                    
                                    <div class="reply_content">
                                        <p id="comment_320">45455454</p>
                                    </div>                                    

                                    <p class="comment_bottom">                        
                                        <span>2018-12-06 17:06</span>
                                        <span class='reply_button'>
                                            <a href='javascript:void(0);' onclick='reply_click(this);' root='314' role='320' base='è£å…š'>å›å¤</a>
                                        </span>
                                    </p>
                                </div>                                
                            </li>
                            
                        </ul>
                        
                    </div>

                    <span class="clearfix"></span>
                </div>
            
        </div>
    </div>

    <!--è¯„è®ºæ¡†-->
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 id="comment_title">æ–°çš„è¯„è®º</h4>
            <button id="reply_cancel" class="btn btn-warning comment_title_btn" style="display:none">å–æ¶ˆå›å¤</button>
            <p id="reply_text_pre" style="display:none"></p>
        </div>

        <div class="panel-body">
            <div class="comments_nav">
                
                <form class="form-horizontal" action="/blog/comments/post/" method="post" id="comment_form">
                    <input type='hidden' name='csrfmiddlewaretoken' value='BY1LDXIhr1z8e5d6ZsMMIEENzxZTqtFP' />
                    <input id="id_object_pk" name="object_pk" type="hidden" value="5" />
                    <input id="id_content_type" name="content_type" type="hidden" value="blog.blog" />
                    <input id="id_timestamp" name="timestamp" type="hidden" value="1618636406" />
                    
                    
                    <input id="id_security_hash" maxlength="40" name="security_hash" type="hidden" value="0173d3d3e0c57991d390de77527d6a49df72403e" />
                    <input type="hidden" name="next" value="/blog/5"/>
                    <input type="hidden" name="src_url" value="http://yshblog.com/blog/5"/>                 
                    <input id="reply_to" type="hidden" name="reply_to" value="0" />
                    <input id="root_id" type="hidden" name="root_id" value="0" />
                    <input id="reply_name" type="hidden" name="reply_name" value="">

                    <div class="row">
                        <div class="col-md-12">
                            <textarea class="input-xlarge comment_text" id="id_comment" name="comment" placeholder="ä¸ºäº†é˜²æ­¢åƒåœ¾è¯„è®ºï¼Œéœ€è¦ç™»å½•ï¼Œæ‰èƒ½è¯„è®ºå“¦~"></textarea>

                            <!--å¦‚æœä½ åœ¨è¯¥å­—æ®µä¸­è¾“å…¥ä»»ä½•å†…å®¹ï¼Œä½ çš„è¯„è®ºå°±ä¼šè¢«è§†ä¸ºåƒåœ¾è¯„è®º-->
                            <input type="text" style="display:none;" id="id_honeypot" name="honeypot">
                        </div>
                    </div>

                    <div class="row">
                          <div class="form-actions comment_button">
                            <span id='tip_text'></span>
                            <input class="btn btn-info" id="submit_btn" type="submit" name="submit" value="æäº¤"/>
                            <button class="btn btn-default" id="reset_btn">æ¸…ç©º</button>
                          </div>
                    </div>
                 </form>
            </div>
        </div>
    </div>

        </div>

        
        <div class="col-md-3 hidden-sm hidden-xs blog-border">
            
            
    <div class="side-list">
        <h4>æˆ‘çš„å®˜ç½‘</h4>
        <a href="https://zqyhdm.com/" target="_blank"><img src="/static/img/zqyhdm.jpg" style="width: 100%; border-radius: 0.2em;"></a>
    </div>


            <div class="side-list">
                <h4>
                    <span class="glyphicon glyphicon-book"></span>
                    éšæœºæ¨è
                </h4>
                <ul>
                    
                        <li>
                            <a href="/blog/163" target="_blank">Djangoåˆæ­¥ä½¿ç”¨Celery</a>
                        </li>
                    
                        <li>
                            <a href="/blog/137" target="_blank">æœºå™¨å­¦ä¹ 06ï¼šæœ´ç´ è´å¶æ–¯ç†è®ºçŸ¥è¯†</a>
                        </li>
                    
                        <li>
                            <a href="/blog/128" target="_blank">Excelç»˜åˆ¶å¿ƒå½¢å›¾ï¼ˆæƒ…äººèŠ‚ç‰¹è¾‘ï¼‰</a>
                        </li>
                    
                        <li>
                            <a href="/blog/114" target="_blank">æˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬41å¤©) åŸºäºå…³é”®å­—çš„æ™ºèƒ½æ¨è</a>
                        </li>
                    
                        <li>
                            <a href="/blog/162" target="_blank">VSTOåŠ è½½xlamå’Œè°ƒç”¨vbaçš„æ–¹æ³•</a>
                        </li>
                    
                        <li>
                            <a href="/blog/74" target="_blank">Pythonç§’è§£æœ€éš¾æ•°ç‹¬</a>
                        </li>
                    
                        <li>
                            <a href="/blog/145" target="_blank">æœºå™¨å­¦ä¹ 09ï¼šé€»è¾‘å›å½’è¯¦è§£</a>
                        </li>
                    
                        <li>
                            <a href="/blog/158" target="_blank">å¤–é”®çš„QuerySetæŸ¥è¯¢</a>
                        </li>
                    
                        <li>
                            <a href="/blog/93" target="_blank">æˆ‘çš„ç½‘ç«™æ­å»º(ç¬¬35å¤©) ç”¨UEditoræ–°å¢åšæ–‡</a>
                        </li>
                    
                        <li>
                            <a href="/blog/29" target="_blank">Pythonå­—ç¬¦ä¸²å¤„ç†æ–¹æ³•æ€»ç»“</a>
                        </li>
                    
                </ul>  
            </div>

            <div class="side-list">
                <h4>
                    <span class="glyphicon glyphicon-book"></span>
                    çŒœä½ å–œæ¬¢
                </h4>
                <ul id="like_blogs_list">
                    <li>çŒœæµ‹ä¸­ï¼Œè¯·ç¨ç­‰...</li>
                </ul>  
            </div>  
        </div>

        <script type="text/javascript">
            //è·å–çŒœæµ‹åˆ—è¡¨
            $.ajax({
                type:"GET",
                url:"/blog/get_like_blogs",
                cache:false,
                dataType:'json',
                success:function(data){
                    $("#like_blogs_list").children().remove(); //ç§»é™¤å­èŠ‚ç‚¹
                    if(data['code']==0){
                        for (var i = 0; i < data['items'].length; i++) {
                            var url = data['items'][i]['url'];
                            var caption = data['items'][i]['caption'];
                            var str = '<li><a href="'+url+'" target=_blank>'+caption+'</a></li>';
                            $("#like_blogs_list").append(str);
                        };
                    }else{
                        $("#like_blogs_list").append('<li>'+data['message']+'</li>');
                    }
                },
                error:function(XMLHttpRequest, textStatus, errorThrown){
                    $("#like_blogs_list").children().remove(); //ç§»é™¤å­èŠ‚ç‚¹
                    $("#like_blogs_list").append('<li>çŒœæµ‹å¡å£³äº†ï¼ŒçŒœä¸äº†T_T</li>');
                }
            });
        </script>

        </div>
    

    
        
        <div id="footer" class="page-bottom">
            
            <div class="container">
                <div class="col-sm-4 hidden-xs">
                    <div class="content">
                        <h4 class="title">å…³äºæœ¬ç«™</h4>
                        <p>1ã€åŸºäºDjango+Bootstrapå¼€å‘</p>
                        <p>2ã€ä¸»è¦å‘è¡¨æœ¬äººçš„æŠ€æœ¯åŸåˆ›åšå®¢</p>
                        <p>3ã€æœ¬ç«™äº 2015-12-01 å¼€å§‹å»ºç«™</p>
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="content">
                        <h4 class="title">å»ºè®®åé¦ˆ</h4>
                        <p>1ã€å¯åœ¨ç›¸åº”çš„åšæ–‡åº•ä¸‹è¯„è®º</p>
                        <p>2ã€å‘é‚®ä»¶åˆ°2872402050@qq.com</p>
                    </div>
                </div>

                <div class="col-sm-4 hidden-xs">
                    <div class="content">
                        <h4 class="title">å‹æƒ…é“¾æ¥</h4>
                        <p><a href="https://zqyhdm.com/" target=_blank>å†æ•²ä¸€è¡Œä»£ç </a></p>
                        <p><a href="https://jq.qq.com/?_wv=1027&k=5lSm3eD" title="QQç¾¤ï¼š701914136ï¼ˆç‚¹å‡»åŠ ç¾¤ï¼‰" target=_blank>QQç¾¤ï¼š701914136</a></p>
                    </div>
                </div>
            </div>

            <div class="copyright">
                <span>Welcome to visit my website &copy; Haddy Yang</span>
            </div>
        </div>
    

    <a id="scrolltop" class="gotop" href="javascript:void(0)" title="è¿”å›é¡¶éƒ¨"></a>

    <!--æ‰“èµ-->
    <link type="text/css" rel="stylesheet" href="/static/css/tctip/myRewards.css">
    <script>
        window.tctipConfig = {
            //æœ€ä¸Šé¢çš„æ–‡å­—
            headText: "æ¬¢è¿æ‰“èµæ”¯æŒæˆ‘ ^_^",
            //ä¾§è¾¹æ æ–‡æœ¬
            siderText: "å…¬å‘Š & æ‰“èµ",
            //ä¾§è¾¹æ æ–‡æœ¬é«˜åº¦è°ƒæ•´
            siderTextTop: "-72px",
            //ä¾§è¾¹æ èƒŒæ™¯é¢œè‰²
            siderBgcolor: "#323d45",
            //æ•´ä¸ªä¾§è¾¹æ çš„é«˜åº¦è®¾ç½®
            siderTop:"118px",
            //åº•éƒ¨æ–‡å­—
            buttomText:"äº†è§£æ›´å¤š",
            //åº•éƒ¨æ–‡å­—é“¾æ¥
            buttomLink:"https://github.com/haddyyang/tctip",
            //æ˜¾ç¤ºåˆ—è¡¨
            list:{
                notice: {name:"å…¬å‘Šæ ", className:"myR-on",
                         icon: "/static/img/qr_icon/tip.png",  
                         text: 'è·å–å…¬å‘Šä¸­...'
                        },
                alipay: {name:"æ”¯ä»˜å®", desc: "ç”¨æ”¯ä»˜å®ç»™â€œä»•èˆªâ€æ‰“èµ", 
                         icon: "/static/img/qr_icon/alipay.png", 
                         qrimg: "/static/img/qr_code/alipay.jpg"
                        },
                weixin: {name:"å¾®ä¿¡", desc: "ç”¨å¾®ä¿¡ç»™â€œä»•èˆªâ€æ‰“èµ", 
                         icon: "/static/img/qr_icon/weixin.png",
                         qrimg: "/static/img/qr_code/weixin.jpg"
                        }    
            }
        };
    </script>
    <script src="/static/js/tctip.min.js"></script>

    <script type="text/javascript">
        $(function(){
            //æ»šåŠ¨äº‹ä»¶
            $(window).scroll(function(){
                var top=$(window).scrollTop();
                var navbar = $(".navbar-fixed-top");

                if(top==0){
                    $(".navbar-fixed-top").removeClass("navbar-down");
                }else{
                    $(".navbar-fixed-top").addClass("navbar-down");
                }

                if(top>350){
                    $("#scrolltop").fadeIn();
                }else{
                    $("#scrolltop").fadeOut();
                }
            });

            //ç‚¹å‡»è¿”å›å¤´éƒ¨æ•ˆæœ
            $("#scrolltop").click(function(){
                $("html,body").animate({scrollTop:0});
            });

            //çª—ä½“æ”¹å˜å¤§å°äº‹ä»¶
            $(window).resize(function(){
                //æ­£æ–‡é«˜åº¦
                var body_height = $(document.body).outerHeight(true);

                //åº•éƒ¨å…ƒç´ é«˜åº¦
                var bottom_height = $("#footer").outerHeight(true);

                //æµè§ˆå™¨é¡µé¢é«˜åº¦
                var window_height = $(window).height();
                
                //åˆ¤æ–­å¹¶è°ƒæ•´åº•éƒ¨å…ƒç´ çš„æ ·å¼
                if($("#footer").hasClass('page-bottom-abs')){
                    if(body_height + bottom_height >= window_height){
                        $("#footer").removeClass('page-bottom-abs');
                    }
                }else{
                    if(body_height < window_height){
                        $("#footer").addClass('page-bottom-abs');
                    }
                }
            });

            //é¡µé¢åŠ è½½æ—¶ï¼Œæ¨¡æ‹Ÿè§¦å‘ä¸€ä¸‹resizeäº‹ä»¶
            $(window).trigger('resize');

            //æ£€æŸ¥ç™»å½•çŠ¶æ€å’Œè·å–å…¬å‘Š
            var user_menu = '<li><a href="/user/login_page">ç™»å½•/æ³¨å†Œ</a></li>';
            $.ajax({
                type:"GET",
                url:"/user/check_is_login",
                cache:false,
                dataType:'json',
                success:function(data){
                    var notice;
                    if(data['code']=='0'){
                        user_menu = data['user_menu'];
                        notice = data['notice'];
                    }else{
                        
                        notice='æš‚æ— å…¬å‘Š';
                    };

                    //$("#user_part").html(user_menu);
                    $('.myRewards-text').html(notice);
                    tctipConfig.list.notice.text=notice;
                },
                error:function(XMLHttpRequest, textStatus, errorThrown){
                    $("#user_part").html(user_menu);
                }
            });
        });
    </script>
    
    
    <script type="text/javascript">
        $(document).ready(function() {
            //ä»£ç é«˜äº®
            prettyPrint();

            //è¯„è®ºæäº¤
            $('#comment_form').submit(function() {
                if ($("#id_honeypot").val().length!=0) {alert("Stop!åƒåœ¾è¯„è®º");return false;};
                if ($("#id_comment").val().length==0) {
                    $("#tip_text").text('æ‚¨è¿˜æ²¡å†™ä»»ä½•è¯„è®ºå†…å®¹');
                    $(".emojionearea-editor").focus();
                    $("body,html").animate({scrollTop: $("#comment_title").offset().top - 90}, 100);
                    return false;
                };

                update_comment($('#comment_form').serialize());
                return false;
            });
            //æ¸…ç©ºæŒ‰é’®
            $('#reset_btn').click(function(){
                var eoa = $("#id_comment")[0].emojioneArea;
                eoa.setText('');
                $('#tip_text').text('');
            });

            //æäº¤è¯„è®ºæˆ–å›å¤
            function update_comment(form_data){
                $.ajax({
                    type: "POST",
                    data: form_data,
                    url: "/blog/comments/post/",
                    cache: false,
                    dataType: "json",
                    success: function(json, textStatus) {
                        if(json['success']){
                            window.location.reload();
                        }else{
                            if(json['code']==501){
                                $("#tip_text").text('æ‚¨å°šæœªç™»å½•ï¼Œè¯·å…ˆç™»å½•æ‰èƒ½è¯„è®º');
                            }else if(json['code']==502){
                                $("#tip_text").text('æ‚¨å°šæœªæ¿€æ´»ï¼Œè¯·å…ˆæ¿€æ´»æ‚¨çš„è´¦æˆ·æ‰èƒ½è¯„è®º');
                            }else{
                                $("#tip_text").text('è¯„è®ºå‡ºé”™ï¼Œè¯·åˆ·æ–°é‡è¯•\n'+json['message']);
                                window.console.debug(json);
                            }
                        }
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        alert("è¯„è®ºå‡ºé”™\nè¯·æ£€æŸ¥æ˜¯å¦ç™»å½•äº†æˆ–è€…åˆ·æ–°è¯•è¯•\n" + errorThrown);
                    }
                });
            }

            //é¡µé¢æ‰“å¼€å®šä½åˆ°è¯„è®ºä½ç½®
            if(window.location.hash!=""){
                obj = document.getElementsByName(window.location.hash.split("#")[1])[0];
                var $obj = $(obj);
                $("body,html").animate({
                  scrollTop: $obj.offset().top - 70
                }, 1000);
            };

            //ä½¿ç”¨emojioneArea
            $("#id_comment").emojioneArea();

            //å¯¹è¯„è®ºå†…å®¹çš„emojiè½¬åŒ–
            $(".comment_content p, .reply_content p").each(function(){
                //$(this).html(emojione.toImage($(this).text()));
                var value = $(this).text();
                var code = $('<div/>').text(value).html(); //htmlè½¬ä¹‰
                $(this).html(emojione.toImage(code));
            });
        });

        //æˆ‘è¦è¯„è®º-æŒ‰é’®
        $("#jump_to_comment").click(function(){
            $(".emojionearea-editor").focus();
            $("body,html").animate({scrollTop: $("#comment_title").offset().top - 90}, 100);
        });

        //å–æ¶ˆå›å¤-æŒ‰é’®
        $("#reply_cancel").click(function(){
            //è®¾ç½®ç›¸å…³æ•°æ®
            $("#reply_to").val('0');
            $("#root_id").val('0');
            $("#reply_name").val("");

            //è°ƒæ•´é¡µé¢æ˜¾ç¤º
            $("#comment_title").text("æ–°çš„è¯„è®º");
            $("#reply_text_pre").hide();
            $("#reply_cancel").hide();
        });

        //å›å¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        function reply_click(obj){
            obj = $(obj);

            //è®¾ç½®å›å¤ä¿¡æ¯
            $("#reply_to").val(obj.attr("role"));
            $("#root_id").val(obj.attr("root"));
            $("#reply_name").val(obj.attr("base"));
            
            //æ˜¾ç¤ºå›å¤çš„ç›¸å…³å†…å®¹
            $("#comment_title").text("å›å¤ï¼š" + obj.attr("base"));
            $("#reply_text_pre").html($("#comment_"+obj.attr("role")).html()); //æ˜¾ç¤ºè¦å›å¤çš„è¯„è®ºå†…å®¹
            $("#reply_text_pre").show();
            $("#reply_cancel").show();

            //è¯„è®ºåº“è·å¾—ç„¦ç‚¹
            $(".emojionearea-editor").focus();
            $("body,html").animate({scrollTop: $("#comment_title").offset().top - 90}, 100);
            return false;
        }

        //åˆ†äº«æŒ‰é’®
        var jiathis_config = {data_track_clickback:'true'};

        //ç»™æ­£æ–‡ä¸­çš„å›¾ç‰‡æ·»åŠ ç¼©æ”¾å±æ€§
        $(".blog_content img").attr("data-action", "zoom");
    </script>

    <!--å›¾ç‰‡ç¼©æ”¾-->
    <link rel="stylesheet" type="text/css" href="/static/css/zoom.css">
    <script type="text/javascript" src="/static/js/zoom.min.js"></script>

    <!--åˆ†äº«æŒ‰é’®-->
    <script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=2122949" charset="utf-8"></script>

</body>
</html>
